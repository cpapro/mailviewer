<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mail Viewer</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #121212;
      color: #ffffff;
    }

    .container {
      max-width: 900px;
      margin: 40px auto;
      background-color: #1e1e1e;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.15);
    }

    h1 {
      text-align: center;
      color: #00ffc3;
      margin-bottom: 30px;
    }

    textarea {
      width: 100%;
      height: 150px;
      background-color: #2a2a2a;
      color: #fff;
      border: 1px solid #444;
      padding: 14px;
      font-size: 16px;
      border-radius: 8px;
      resize: none;
    }

    .btn {
      background: linear-gradient(to right, #ff005e, #9a00ff);
      border: none;
      padding: 12px 20px;
      color: white;
      font-size: 16px;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 15px;
      transition: 0.3s ease;
    }

    .btn:disabled {
      background: #555;
      cursor: not-allowed;
    }

    .btn:hover:not(:disabled) {
      background: linear-gradient(to right, #ff5f9c, #c66bff);
    }

    .remove-btn {
      float: right;
      margin-top: -38px;
      background-color: transparent;
      border: none;
      color: #ff5f9c;
      cursor: pointer;
      font-weight: bold;
      font-size: 14px;
    }

    .status-output {
      margin-top: 25px;
      position: relative;
    }

    .status-box {
      background-color: #2a2a2a;
      color: #fff;
      border: 1px solid #444;
      padding: 14px;
      font-size: 15px;
      border-radius: 8px;
      white-space: pre-wrap;
      height: 150px;
      overflow-y: auto;
    }

    .status-box:focus {
      outline: none;
    }

    .status-summary {
      margin-top: 20px;
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
    }

    .summary {
      display: flex;
      align-items: center;
      gap: 8px;
      background-color: #1f1f1f;
      border-radius: 8px;
      padding: 10px 20px;
      margin: 5px;
      color: #fff;
      font-size: 16px;
    }

    .used i { color: #ff5252; }
    .fresh i { color: #4caf50; }
    .unregistered i { color: #ffa726; }
    .invalid i { color: #888; }

    @media screen and (max-width: 600px) {
      .summary {
        flex: 1 1 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>Mail Viewer</h1>
<br>
<br>

    <label>Enter Emails:</label>
    <button class="remove-btn" onclick="clearInput()">Remove</button>
    <textarea id="inputEmails" placeholder="Paste emails here..." oninput="toggleButton()"></textarea>

    <button class="btn" id="checkBtn" onclick="checkEmails()" disabled>Find Out</button>
<br>
<br>

    <div class="status-output">
      <label>Status Output:</label>
      <button class="remove-btn" onclick="clearOutput()">Remove</button>
      <div class="status-box" id="outputBox" contenteditable="false"></div>
    </div>

    <div class="status-summary">
      <div class="summary used"><i class="fas fa-ban"></i> Used: <span id="usedCount">0</span></div>
      <div class="summary fresh"><i class="fas fa-check-circle"></i> Fresh: <span id="freshCount">0</span></div>
      <div class="summary unregistered"><i class="fas fa-question-circle"></i> Unregistered: <span id="unregCount">0</span></div>
      <div class="summary invalid"><i class="fas fa-exclamation-triangle"></i> Invalid: <span id="invalidCount">0</span></div>
    </div>
  </div>

  <script>
    const emailStatus = {
      "teeback964@gmail.com": "Used",
      "tahmednil@gmail.com": "Fresh",
      "user3@example.com": "Unregistered",
      "abc@mail.com": "Used",
      "hello@gmail.com": "Fresh",
      "unknown@fake.com": "Unregistered"
    };

    function isValidEmail(email) {
      // Simple email regex validation
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    function checkEmails() {
      const inputRaw = document.getElementById("inputEmails").value.trim();
      if (!inputRaw) return;

      // Split by newlines, commas, semicolons, spaces, tabs
      const input = inputRaw.split(/[\n,; \t]+/).filter(e => e.trim() !== '');

      const outputBox = document.getElementById("outputBox");
      let used = 0, fresh = 0, unreg = 0, invalid = 0;
      let result = '';

      input.forEach(email => {
        const trimmed = email.trim();
        if (!isValidEmail(trimmed)) {
          result += `${trimmed} — Invalid Email Format\n`;
          invalid++;
          return;
        }
        const status = emailStatus[trimmed.toLowerCase()];
        if (status === "Used") {
          result += `${trimmed} — Used\n`;
          used++;
        } else if (status === "Fresh") {
          result += `${trimmed} — Fresh\n`;
          fresh++;
        } else {
          // Treat all unknown emails as Unregistered
          result += `${trimmed} — Unregistered\n`;
          unreg++;
        }
      });

      outputBox.innerText = result || 'No valid matches found.';
      document.getElementById("usedCount").textContent = used;
      document.getElementById("freshCount").textContent = fresh;
      document.getElementById("unregCount").textContent = unreg;
      document.getElementById("invalidCount").textContent = invalid;
    }

    function clearInput() {
      document.getElementById("inputEmails").value = '';
      toggleButton();
    }

    function clearOutput() {
      document.getElementById("outputBox").innerText = '';
      resetCounts();
    }

    function resetCounts() {
      document.getElementById("usedCount").textContent = 0;
      document.getElementById("freshCount").textContent = 0;
      document.getElementById("unregCount").textContent = 0;
      document.getElementById("invalidCount").textContent = 0;
    }

    function toggleButton() {
      const input = document.getElementById("inputEmails").value.trim();
      document.getElementById("checkBtn").disabled = (input.length === 0);
    }
  </script>

</body>
</html>
